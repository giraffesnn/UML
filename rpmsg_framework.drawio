<mxfile host="app.diagrams.net" modified="2020-07-22T10:12:04.846Z" agent="5.0 (Windows)" etag="ZeCc9d9fl3aWR5sRj44w" version="13.4.9" type="github">
  <diagram id="En-_3escWLUhismutuOt" name="第 1 页">
    <mxGraphModel dx="716" dy="377" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="4681" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-63" value="include/linux/rpmsg.h" style="swimlane;fontStyle=0;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1280" height="320" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-51" value="struct rpmsg_endpoint" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;strokeColor=#6c8ebf;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-63">
          <mxGeometry x="1000" y="70" width="240" height="208" as="geometry">
            <mxRectangle x="150" y="130" width="100" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-52" value="struct rpmsg_device *rpdev;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-51">
          <mxGeometry y="26" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-53" value="struct kref refcount;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-51">
          <mxGeometry y="52" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-54" value="rpmsg_rx_cb_t cb;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-51">
          <mxGeometry y="78" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-55" value="struct mutex cb_lock;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-51">
          <mxGeometry y="104" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-56" value="u32 addr;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-51">
          <mxGeometry y="130" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-57" value="void *priv;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-51">
          <mxGeometry y="156" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-58" value="const struct rpmsg_endpoint_ops *ops;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontColor=#EA6B66;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-51">
          <mxGeometry y="182" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-39" value="struct rpmsg_device" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;strokeColor=#6c8ebf;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-63">
          <mxGeometry x="520" y="70" width="260" height="208" as="geometry">
            <mxRectangle x="150" y="130" width="100" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-40" value="struct device dev;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-39">
          <mxGeometry y="26" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-41" value="struct rpmsg_device_id id;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontColor=#EA6B66;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-39">
          <mxGeometry y="52" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-42" value="u32 src;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-39">
          <mxGeometry y="78" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-43" value="u32 dst;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-39">
          <mxGeometry y="104" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-44" value="struct rpmsg_endpoint *ept;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontColor=#EA6B66;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-39">
          <mxGeometry y="130" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-45" value="bool announce;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-39">
          <mxGeometry y="156" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-46" value="const struct rpmsg_device_ops *ops;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontColor=#EA6B66;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-39">
          <mxGeometry y="182" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-34" value="struct rpmsg_driver" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;strokeColor=#6c8ebf;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-63">
          <mxGeometry x="30" y="70" width="330" height="156" as="geometry">
            <mxRectangle x="150" y="130" width="100" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-35" value="struct device_driver drv;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-34">
          <mxGeometry y="26" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-36" value="const struct rpmsg_device_id *id_table;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontColor=#EA6B66;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-34">
          <mxGeometry y="52" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-37" value="int (*probe)(struct rpmsg_device *dev);" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-34">
          <mxGeometry y="78" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-38" value="void (*remove)(struct rpmsg_device *dev);" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-34">
          <mxGeometry y="104" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-67" value="int (*callback)(struct rpmsg_device *, void *, int, void *, u32);" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-34">
          <mxGeometry y="130" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-71" value="" style="endArrow=block;startArrow=block;endFill=1;startFill=1;html=1;fontFamily=Lucida Console;fontColor=#EA6B66;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="Eo5dm-Wqf6loFh02fLz2-63" source="Eo5dm-Wqf6loFh02fLz2-36" target="Eo5dm-Wqf6loFh02fLz2-41">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="370" y="130" as="sourcePoint" />
            <mxPoint x="530" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-73" value="&lt;div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;rpmsg_dev_match&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;fontColor=#EA6B66;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-63">
          <mxGeometry x="380" y="110" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="Eo5dm-Wqf6loFh02fLz2-63" source="Eo5dm-Wqf6loFh02fLz2-44" target="Eo5dm-Wqf6loFh02fLz2-51">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="880" y="30" as="targetPoint" />
            <Array as="points">
              <mxPoint x="850" y="213" />
              <mxPoint x="850" y="30" />
              <mxPoint x="1120" y="30" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-150" value="&lt;div&gt;rpmsg_driver和&lt;/div&gt;&lt;div&gt;rpmsg_device匹配时，&lt;/div&gt;&lt;div&gt;比较的是.name&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;id_table.name和 &lt;br&gt;&lt;/div&gt;&lt;div&gt;id.name做 strncmp&lt;br&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;fontFamily=Lucida Console;fontColor=#333333;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-63">
          <mxGeometry x="370" y="148" width="140" height="92" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Eo5dm-Wqf6loFh02fLz2-46" target="Eo5dm-Wqf6loFh02fLz2-85">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="680" y="460" as="targetPoint" />
            <Array as="points">
              <mxPoint x="520" y="305" />
              <mxPoint x="520" y="440" />
              <mxPoint x="680" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-76" value="drivers/rpmsg/rpmsg_internal.h" style="swimlane;fontStyle=0;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="440" y="400" width="880" height="320" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-105" value="struct rpmsg_endpoint_ops" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;strokeColor=#6c8ebf;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-76">
          <mxGeometry x="600" y="80" width="240" height="234" as="geometry">
            <mxRectangle x="150" y="130" width="100" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-106" value="destroy_ept()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-105">
          <mxGeometry y="26" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-107" value="send()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-105">
          <mxGeometry y="52" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-108" value="sendto()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-105">
          <mxGeometry y="78" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-114" value="send_offchannel()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-105">
          <mxGeometry y="104" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-125" value="trysend()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-105">
          <mxGeometry y="130" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-126" value="trysendto()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-105">
          <mxGeometry y="156" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-127" value="trysend_offchannel()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-105">
          <mxGeometry y="182" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-128" value="poll()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-105">
          <mxGeometry y="208" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-85" value="struct rpmsg_device_ops" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;strokeColor=#6c8ebf;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-76">
          <mxGeometry x="120" y="80" width="240" height="104" as="geometry">
            <mxRectangle x="150" y="130" width="100" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-86" value="create_ept()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-85">
          <mxGeometry y="26" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-87" value="announce_create()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-85">
          <mxGeometry y="52" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-88" value="announce_destro()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-85">
          <mxGeometry y="78" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontColor=#000000;" edge="1" parent="1" source="Eo5dm-Wqf6loFh02fLz2-58" target="Eo5dm-Wqf6loFh02fLz2-105">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="960" y="449.9999999999999" as="targetPoint" />
            <Array as="points">
              <mxPoint x="960" y="305" />
              <mxPoint x="960" y="440" />
              <mxPoint x="1160" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-131" value="samples/renesas_taurus_client/taurus_client_sample.c" style="swimlane;fontStyle=0;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="680" y="1070" width="490" height="600" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-145" value="struct rpmsg_driver taurus_sample_client" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;strokeColor=#6c8ebf;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-131">
          <mxGeometry x="80" y="50" width="240" height="130" as="geometry">
            <mxRectangle x="150" y="130" width="100" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-146" value=".drv.name  = KBUILD_MODNAME," style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-145">
          <mxGeometry y="26" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-147" value=".probe     = taurus_sample_probe," style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-145">
          <mxGeometry y="52" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-148" value=".callback  = taurus_sample_cb," style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-145">
          <mxGeometry y="78" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-149" value=".remove        = taurus_sample_remove," style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-145">
          <mxGeometry y="104" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-151" value="&lt;div&gt;&lt;font size=&quot;1&quot; color=&quot;#000000&quot;&gt;&lt;b style=&quot;font-size: 16px&quot;&gt;How to write rpmsg drivers?&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font size=&quot;1&quot; color=&quot;#000000&quot;&gt;&lt;b style=&quot;font-size: 16px&quot;&gt;---------------------------&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font size=&quot;1&quot; color=&quot;#000000&quot;&gt;&lt;b style=&quot;font-size: 16px&quot;&gt;&lt;/b&gt;&lt;/font&gt;Documentation/rpmsg.txt&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;samples/rpmsg/rpmsg_client_sample.c&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;samples/renesas_taurus_client/taurus_client_sample.c&lt;br&gt;&lt;/div&gt;&lt;div&gt;drivers/gpu/drm/rcar-rvgc/rcar_rvgc_drv.c&lt;/div&gt;&lt;div&gt;drivers/net/can/rcar-taurus/rcar_taurus_can.c&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 0)&quot;&gt;TODO:&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;sound/soc/sh/rcar-taurus/*&lt;/div&gt;&lt;div&gt;-------------------------------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;module_rpmsg_driver(&lt;font color=&quot;#EA6B66&quot;&gt;&lt;i&gt;rpmsg_driver&lt;/i&gt;&lt;/font&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; register_rpmsg_driver(rpmsg_driver)&lt;br&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; __register_rpmsg_driver(rpmsg_driver, THIS_MODULE)&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;fontFamily=Lucida Console;fontColor=#333333;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="120" y="750" width="490" height="270" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-154" value="samples/rpmsg/rpmsg_client_sample.c" style="swimlane;fontStyle=0;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="90" y="1110" width="570" height="780" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-163" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontColor=#000000;" edge="1" parent="Eo5dm-Wqf6loFh02fLz2-154" source="Eo5dm-Wqf6loFh02fLz2-160" target="Eo5dm-Wqf6loFh02fLz2-155">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-160" value="module_rpmsg_driver(rpmsg_sample_client);" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;fontColor=#000000;shadow=0;labelBackgroundColor=#FFF4C3;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-154">
          <mxGeometry x="60" y="50" width="320" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-155" value="struct rpmsg_driver taurus_sample_client" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#dae8fc;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;strokeColor=#6c8ebf;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-154">
          <mxGeometry x="90" y="100" width="260" height="156" as="geometry">
            <mxRectangle x="150" y="130" width="100" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-156" value=".drv.name  = KBUILD_MODNAME," style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-155">
          <mxGeometry y="26" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-165" value=".id_table       = rpmsg_driver_sample_id_table," style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-155">
          <mxGeometry y="52" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-157" value=".probe     = taurus_sample_probe," style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-155">
          <mxGeometry y="78" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-158" value=".callback  = taurus_sample_cb," style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-155">
          <mxGeometry y="104" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-159" value=".remove        = taurus_sample_remove," style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-155">
          <mxGeometry y="130" width="260" height="26" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-164" value="&lt;div align=&quot;left&quot;&gt;static struct rpmsg_device_id rpmsg_driver_sample_id_table[] = {&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; { &lt;font color=&quot;#FF0080&quot;&gt;.name = &quot;rpmsg-client-sample&quot;&lt;/font&gt; },&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; { },&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;};&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;fontColor=#000000;shadow=0;labelBackgroundColor=#FFF4C3;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-154">
          <mxGeometry x="40" y="280" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-166" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Lucida Console;fontColor=#000000;" edge="1" parent="Eo5dm-Wqf6loFh02fLz2-154" source="Eo5dm-Wqf6loFh02fLz2-165" target="Eo5dm-Wqf6loFh02fLz2-164">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="20" y="165" />
              <mxPoint x="20" y="315" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-167" value="&lt;div&gt;int rpmsg_sample_probe(struct rpmsg_device *rpdev) &lt;br&gt;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; struct instance_data *idata;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; idata = devm_kzalloc(&amp;amp;rpdev-&amp;gt;dev,sizeof(*idata),GFP_KERNEL);&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp; dev_set_drvdata(&amp;amp;rpdev-&amp;gt;dev, idata); &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; /* send a message to our remote processor */&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;font color=&quot;#FF0080&quot;&gt;rpmsg_send(rpdev-&amp;gt;ept, MSG, strlen(MSG));&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ...&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;fontColor=#000000;shadow=0;labelBackgroundColor=#FFF4C3;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-154">
          <mxGeometry x="10" y="380" width="480" height="190" as="geometry" />
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-168" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;fontColor=#000000;" edge="1" parent="Eo5dm-Wqf6loFh02fLz2-154" source="Eo5dm-Wqf6loFh02fLz2-157">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="455" as="targetPoint" />
            <Array as="points">
              <mxPoint x="540" y="191" />
              <mxPoint x="540" y="455" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Eo5dm-Wqf6loFh02fLz2-170" value="&lt;div&gt;int rpmsg_sample_probe(struct rpmsg_device *rpdev) &lt;br&gt;&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; struct instance_data *idata;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; idata = devm_kzalloc(&amp;amp;rpdev-&amp;gt;dev,sizeof(*idata),GFP_KERNEL);&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; /* send a message to our remote processor */&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;font color=&quot;#FF0080&quot;&gt;rpmsg_send(rpdev-&amp;gt;ept, MSG, strlen(MSG));&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ...&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;fontColor=#000000;shadow=0;labelBackgroundColor=#FFF4C3;" vertex="1" parent="Eo5dm-Wqf6loFh02fLz2-154">
          <mxGeometry x="10" y="600" width="480" height="150" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
